extends ../../partials/header
block main
  input.display-none#json-project-data(type="text" value=JSON.stringify(project))
  //- .general-beta-text beta version 1.0.0
  //- This file uses the css/js codes from projects/create
  .all-content-header-wrapper
    .header-user-logo
      img(src=company.profile_photo alt="usersmagic " + company.name)
    a.header-each-step-text(href="/projects") Projects
    i.fas.fa-chevron-right.header-each-step-arrow
    a.header-each-step-text(href="/projects/edit?id=" + project._id)= project.name
    .header-buttons-wrapper
      .general-seablue-border-button.undo-button 
        span Discard Changes
      .general-seablue-button.update-project-button
        span Update Survey
    .header-credit-wrapper 
      span.header-credit-amount #{company.credit} credits
      span.header-get-credit-button Get Credits
  .all-content-inner-wrapper
    .blocks-wrapper
      .welcome-block-wrapper
        img.each-type-image(src="/res/images/block_icons/welcome.png" alt="usersmagic welcome block")
        span.each-type-title Welcome Screen
      .custom-blocks-wrapper.drag-and-drop-wrapper
        each question in (project.questions_updated.length == 0 ? project.questions : project.questions_updated) 
          .each-block-wrapper(id=question._id)
            img.each-type-image(src="/res/images/block_icons/" + question.type + ".png" alt="usersmagic " + question.type)
            .each-block-text-wrapper
              span.each-type-title.custom-block-type-title= question.text.length ? question.text : 'New question'
              span.each-type-subtitle= question.type.split('_').map(each => each.substr(0, 1).toUpperCase() + each.substr(1, each.length)).join(' ')
      .add-block-wrapper
        .add-block-button
          .add-block-plus-wrapper
            i.fas.fa-plus
          .add-block-text-wrapper
            span.add-block-title Add a Block
            span.add-block-subtitle Rating, question...
        .each-add-block-wrapper#yes_no
          img.each-type-image(src="/res/images/block_icons/yes_no.png" alt="usersmagic yes/no")
          .each-block-text-wrapper
            span.each-type-title.custom-block-type-title Yes/No
            span.each-type-subtitle Pick the next type you need
        .each-add-block-wrapper#multiple_choice
          img.each-type-image(src="/res/images/block_icons/multiple_choice.png" alt="usersmagic multiple choice")
          .each-block-text-wrapper
            span.each-type-title.custom-block-type-title Multiple Choice
            span.each-type-subtitle Pick the next type you need
        .each-add-block-wrapper#opinion_scale
          img.each-type-image(src="/res/images/block_icons/opinion_scale.png" alt="usersmagic opinion scale")
          .each-block-text-wrapper
            span.each-type-title.custom-block-type-title Opinion Scale
            span.each-type-subtitle Pick the next type you need
        .each-add-block-wrapper#open_answer
          img.each-type-image(src="/res/images/block_icons/open_answer.png" alt="usersmagic open answer")
          .each-block-text-wrapper
            span.each-type-title.custom-block-type-title Open Answer
            span.each-type-subtitle Pick the next type you need
    .block-settings-wrapper
      .block-settings-header-wrapper
        img.each-type-image(src="/res/images/block_icons/welcome.png" alt="usersmagic welcome")
        span.each-type-title.settings-title Welcome Screen
        span.required-text(style="display: none;") Required
        .general-slider-button.required-slide-button(style="display: none;")
          div
        i.far.fa-clone.settings-duplicate-button(style="display: none;")
        i.far.fa-trash-alt.settings-delete-button(style="display: none;")
      //- the content of this block is created dynamically via javascript
      .block-settings-content-wrapper
    .block-preview-wrapper
      .block-preview-header
        span.block-preview-header-title Preview
        span.block-preview-header-subtitle Preview automatically reloads after auto save
      .block-preview-content
